#### Алгоритм

TODO: можно ли переписать save_fact, чтобы он мог принимать по 10, 100 фактов за раз?

TODO: поступившие на отправку факты можно как-то сохранить локально.
    - сообщить пользователю, что факты приняты в обработку
    - если факт отправлен, то отмечать его отправленным (либо удалять из буфера)
    - будут видны неотправленные факты
    - в случае неполадок можно продолжать отправку

TODO: одновременно может быть несколько пользователей желающих отправить факты
    - буфер должен отделять факты каждого пользователя отдельно

TODO: возможно есть смысл сделать N одновременно работающих потоков, отправляющих факты по одному

TODO: N можно будет менять от 0 до X динамически (например в зависимости от загрузки сервера)

TODO: если подряд приходят ошибки, то можно:
    - замедлить отправку (сделать размер батча = 1)
    - если подряд 10 ошибок, то проверять раз в минуту, не исправилась ли ситуация
    - отправить сообщение разработчику

TODO: сделать таймаут отправки факта через Context. Если нет ответа 30 секунд, то факт считать неотправленным. 

TODO: сделать валидацию принятых данных факта.

###### Запуск скрипта:
- сейчас генерируется **фиксированное** количество фактов для отправки (в реальности нужна функция для добавления фактов в буфер)
- задаётся сколько фактов будет отправляться одновременно (размер батча): maxBatchSize

В цикле:
- выбираются факты для отправки пачкой
- одновременно отправляются факты из пачки
  - проверяется была ли ошибка во время отправки, записывается в канал ошибка (TODO: нужно в буфере пометить факт неотправленным)
  - проверяется ответ сервера, если он не 200, то записывается в канал ошибка (TODO: нужно в буфере пометить факт неотправленным)
  - считается что отправка факта произошла успешно (TODO: нужно в буфере пометить факт отправленным успешно)
- сохранить информацию об ошибках в лог 

Сейчас скрипт завершает работу после отправки всех фактов из буфера.

TODO: сделать бесконечный цикл, дожидающийся появления новых фактов для отправки
    - сделать канал фактов для отправки

TODO: добавить возможность принудительно завершить работу скрипта (graceful shutdown)